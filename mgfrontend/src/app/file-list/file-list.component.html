<div class="row">
    <div class="col-md-1">
    </div>
    <div class="col-md-10" style="background-color: #F7F7F7;min-height: 600px;border-radius:12px;">
        <div class="row">
            <div class="col-md-12 text-center mt-4">
                <button class="btn btn-primary btn-test lg mr-2">Testing
                </button>
                <button class="btn btn-primary lg btn-process">Production
                </button>
            </div>
        </div>
        <div class="row">
            <div class="col-md-2">
            </div>
            <div class="col-md-8 mt-3">
                <div class="dropdown-wrapper d-flex justify-content-center">
                    
                    <p-dropdown [options]="fileList" [(ngModel)]="selectedFiles" optionLabel="name"
                    placeholder="Select A Folder" />
                <button [disabled]="isLoadingData" class="btn btn-primary btn-process mt-3 mb-3" (click)="getAllfiles()">Process
                </button>
                </div>
             
            </div>
            <div class="col-md-2">

            </div>
        </div>
        <div class="row">
            <div class="col-md-12">
                <div class="primengtable-wrapper mt-3" *ngIf="fileDataList.files && fileDataList.files.length > 0">
                    <p-table [value]="fileDataList.files" [tableStyle]="{'min-width': '60rem'}" >
                        <ng-template pTemplate="header">
                            <tr>
                                <th>
                                    File Name 
                                </th>
                                <th>
                                    Processing Time
                                </th>
                                <th style="width:20%">
                                    Flagged <p-sortIcon field="name" />
                                </th>
                               <!--  <th pSortableColumn="category" style="width:20%">
                                    Category <p-sortIcon field="category" />
                                </th> -->
                            
                            </tr>
                        </ng-template>
                        <ng-template pTemplate="body" let-file>
                            <tr>
                                <td><u style="cursor:pointer" (click)="showfileDetails = true;processFile(file);">{{file}}</u></td>
                                <td style="text-align: center;">3min</td>
                                <td style="text-align: center;">Yes</td>
                            </tr>
                        </ng-template>
                    </p-table>
                </div>
            
            </div>
        </div>
    </div>
    <div class="col-md-1">
    </div>
</div>
<p-dialog  
    [modal]="true"
    [(visible)]="showfileDetails" 
    [style]="{ width: '70rem' }" 
    [breakpoints]="{ '1199px': '75vw', '575px': '90vw' }" 
    [maximizable]="true">
    <div class="row">
        <div class="col-md-12 text-center mt-4">
          <button class="btn btn-primary btn-process lg mr-2">Testing             
          </button>
          <button class="btn btn-primary lg btn-prod" [routerLink]="['/file-list']">Production           
          </button>
        </div>
      </div>
    <div class="row mt-4 ml-1 mr-1 mb-5 p-4 right-side-color">
        <!-- start left -->
        <div class="col-md-5 ">
            <div class="row mb-5">
              <div class="col-md-12" style="background-color: #14477E;
              min-height: 100px;
              border-radius: 6px;">
               <div style="position: relative; margin-bottom:50px;">
                <div style="background-color: #97C5E8;
                text-align: left;
                width: 100px;
                padding: 5px;
                position: absolute;
                top: 12px;
                left: -12px;
                opacity: 0.9;cursor: pointer;" (click)="showfileDetails = false; getAllfiles()"><i class="fa fa-chevron-left" style="font-size:18px;margin-right: 20px;color: #00467F;"></i>
            <span style="font-size: 12px;color: #00467F;">Back</span>
          </div>
              </div>
              <h4 style="color: #01D8B7;font-family: sans-serif;font-size: 20px;margin-top: 70px;">{{filetoprocess}}</h4>

                   <button [disabled]="isLoadingData" class="btn btn-primary btn-process mt-3 mb-3" (click)="getFileDetails(filetoprocess)" style="background: #01D8B7;width: 100px;">Submit
                   </button>
              </div>
            </div>
         
      </div>
     
        <!-- end left -->
      
        <!-- start right -->
        <div class="col-md-7 pr-2 pl-2">
            <ng-container *ngIf="isLoadingData">
              <div class="row" >
                <div class="col-md-12 text-center">
                  <i class="fa fa-circle-o-notch fa-spin" style="font-size:38px"></i>
                </div>
              </div>
            </ng-container>
            <ng-container *ngIf="!isLoadingData">
            <div class="row mb-2 row-details">
              <div class="col-md-3"><span class="label-txt">Report Type:</span></div>
              <div class="col-md-9 col-grey">{{fileData?.ReportType}}</div>
        
            </div>
            <div class="row mb-2 row-details">
              <div class="col-md-3"><span class="label-txt">Report Title:</span></div>
              <div class="col-md-9 col-grey">{{fileData?.ReportTitle}}</div>
            </div>
            <div class="row mb-2 row-details">
              <div class="col-md-3"><span class="label-txt">Date Created:</span></div>
              <div class="col-md-9 col-grey">{{fileData?.DateCreated}}</div>
            </div>
            <div class="row mb-2 row-details">
              <div class="col-md-3"><span class="label-txt">Next assessment Date:</span></div>
              <div class="col-md-9 col-grey">{{fileData?.Nextassessmentdate}}</div>
            </div>
            <div class="row mb-2 row-details">
              <div class="col-md-3"><span class="label-txt">Company:</span></div>
              <div class="col-md-9 col-grey">{{fileData?.Company}}</div>
            </div>
            <div class="row mb-2 row-details">
              <div class="col-md-3"><span class="label-txt">Author:</span></div>
              <div class="col-md-9 col-grey">{{fileData?.Author}}</div>
            </div>
            <div class="row mb-2 row-details">
              <div class="col-md-3"><span class="label-txt">Summary:</span></div>
              <div class="col-md-9 col-grey" style="height: 205px;overflow-y: scroll;">{{fileData?.Summary}} </div>
            </div>
          </ng-container>
          </div>
        <!-- end right -->
      </div>
</p-dialog>